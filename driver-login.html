<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ورود راننده | ناجی راه</title>
<link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet" type="text/css" />
<style>
  @import url('https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css');

body {
  font-family: 'Vazir', sans-serif;
  margin: 0;
  padding: 0;
  background: linear-gradient(135deg, #00c3ff, #62e8ff);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  overflow-x: hidden;
}

/* انیمیشن ورود نرم کارت */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(40px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* کارت احراز هویت */
.auth-card {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(8px);
  padding: 40px 30px;
  border-radius: 18px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  max-width: 430px;
  width: 90%;
  animation: fadeInUp 0.8s ease;
}

/* عنوان اصلی */
.auth-title {
  text-align: center;
  color: #00b8f1;
  margin-bottom: 8px;
  font-size: 28px;
  font-weight: bold;
}

/* زیرعنوان */
.auth-sub {
  text-align: center;
  color: #555;
  margin-bottom: 25px;
  font-size: 15px;
}

/* فیلدهای فرم */
.form-row {
  margin-bottom: 18px;
  display: flex;
  flex-direction: column;
}

.form-row label {
  margin-bottom: 6px;
  font-weight: bold;
  color: #333;
  font-size: 14px;
}

.form-row input {
  padding: 12px 15px;
  border: 1px solid #ccc;
  border-radius: 10px;
  font-size: 15px;
  background: #fff;
  transition: all 0.3s ease;
}

.form-row input:focus {
  border-color: #00c3ff;
  box-shadow: 0 0 10px rgba(0, 195, 255, 0.4);
  outline: none;
}

/* دکمه‌ها */
.actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 12px;
  margin-bottom: 15px;
}

.btn {
  padding: 12px 20px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-weight: bold;
  font-size: 15px;
  transition: all 0.3s ease;
}

.btn-primary {
  background: linear-gradient(135deg, #00c3ff, #00a9d9);
  color: #fff;
  box-shadow: 0 4px 10px rgba(0, 195, 255, 0.4);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 18px rgba(0, 195, 255, 0.5);
}

.btn-secondary {
  background: #e0e0e0;
  color: #333;
  text-decoration: none;
  text-align: center;
}

.btn-secondary:hover {
  background: #d0d0d0;
}

/* فوتر */
.auth-footer {
  text-align: center;
  font-size: 14px;
  color: #555;
  margin-top: 15px;
}

.auth-footer a {
  color: #00b6f1;
  text-decoration: none;
  font-weight: bold;
  transition: color 0.3s;
}

.auth-footer a:hover {
  color: #008ec2;
  text-decoration: underline;
}

/* متن کوچک */
.small {
  font-size: 13px;
  color: #666;
}

/* حالت موبایل */
@media (max-width: 600px) {
  body {
    background: linear-gradient(135deg, #00b6f1, #63e0ff);
    padding: 20px;
  }

  .auth-card {
    padding: 30px 20px;
    border-radius: 15px;
  }

  .auth-title {
    font-size: 24px;
  }

  .btn {
    width: 100%;
    padding: 14px;
  }

  .actions {
    flex-direction: column;
  }
}

</style>
</head>
<body>
<div class="auth-wrap">
<div class="auth-card">
<h1 class="auth-title">ورود راننده</h1>
<p class="auth-sub">برای دسترسی به حساب کاربری، وارد شوید</p>
<form id="loginForm">
  <div class="form-row">
    <label>کد ملی</label>
    <input type="text" maxlength="10" placeholder="مثلاً 0012345678" required>
  </div>
  <div class="form-row">
    <label>رمز عبور</label>
    <input type="password" placeholder="رمز عبور خود را وارد کنید" required>
  </div>
  <div class="actions">
    <button type="submit" class="btn btn-primary">ورود</button>
    <a href="driver-signup.html" class="btn btn-secondary">ثبت‌نام راننده</a>
  </div>
  <div class="form-row" style="text-align:center; margin-top:12px;">
    <a href="driver-forgot.html" class="small">فراموشی رمز عبور؟</a>
  </div>
</form>
<p class="auth-footer">اگر هنوز ثبت‌نام نکرده‌اید، برای ثبت‌نام <a href="driver-signup.html">اینجا کلیک کنید</a>.</p>
</div>
</div>
<script>
document.getElementById('loginForm').addEventListener('submit', function(e){
  e.preventDefault();
  alert('ورود موفقیت‌آمیز بود!');
  // اینجا می‌توانید فرم را به سرور ارسال کنید
});

// ورود به داشبورد
document.getElementById('loginForm').addEventListener('submit', async function(e){
  e.preventDefault();
  const nationalId = e.target[0].value;
  const password = e.target[1].value;

  try {
    const res = await fetch('http://localhost:5000/api/drivers/login', {


      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({ nationalId, password })
    });

    const data = await res.json();
    if(res.ok){
      // ذخیره اطلاعات کاربر در localStorage یا session
      localStorage.setItem("driverData", JSON.stringify(data.driver));
      // هدایت به داشبورد
      window.location.href = "driver-dashboard.html";
    } else {
      alert(data.message || "خطا در ورود");
    }
  } catch(err){
    console.error(err);
    alert("خطا در اتصال به سرور");
  }
});

</script>
</body>
</html>
